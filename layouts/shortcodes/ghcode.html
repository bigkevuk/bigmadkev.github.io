
{{ $file := .Get "file" }}
{{ $shouldRender := default true (.Get "render") }}

{{ $res := try (resources.GetRemote $file) }}

{{ if $res.Err }}
  {{ warnf "Unable to fetch remote resource: %s (%s)" $file $res.Err }}
{{ else }}
  {{ $remote := $res.Value }}
  {{ if $shouldRender }}
    {{ $lang := path.Ext $file | strings.TrimPrefix "." }}
    {{ highlight $remote.Content $lang }}
  {{ else }}
    {{ $remote.Content | $.Page.RenderString }}
  {{ end }}
{{ end }}
